{% extends "base.html" %}

{% block title %}Cybercoach Predictions{% endblock %}

{% block content %}

<style>
    p {
        font-family: 'DM Sans', sans-serif;
        font-weight: 700;
    }

    .header-container {
        background-color: #006106;
        border-radius: 20px;
        padding-left: 20px;
        padding-right: 20px;
        padding-top: 10px;
        padding-bottom: 10px;
        margin-bottom: 20px;
        text-align: center;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    .group {
        display: block !important;
        padding: 20px !important;
        border-radius: 15px;
        background-color: #008703;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
        text-align: center;
        margin: 10px;
    }

    h1 {
        font-family: 'Fugaz One', sans-serif;
        font-weight: 700;
        color: #FFDE21 !important;
        margin-bottom: 10px;
        text-align: center;
        text-shadow: none !important;
    }
    
    h2 {
        font-family: 'Fugaz One', sans-serif;
        font-weight: 700;
        color: #FFDE21 !important;
        margin-bottom: 10px;
        margin-top: 10px;
        text-align: center;
        text-shadow: none !important;
    }

    /* Table wrapper styles */
    .scrollable-table { 
        flex: 1;
        overflow-x: auto;
        max-height: 400px;
        width: 100%;
        text-align: center;
        padding: 0px;
    }

    /* Table styles */
    .scrollable-table table {
        width: 100%;
        border-collapse: separate; /* Ensures border-radius will work */
        border-spacing: 10px; /* Adds space between table cells */
        background-color: #006106; /* Background for the entire table */
        border-radius: 15px; /* Rounds the corners of the table */
        padding: 10px;
        margin: auto; /* Centers the table */
    }

    /* Header cell styles */
    .scrollable-table th {
        background-color: #008703;
        color: #FFCC00;
        font-family: 'Fugaz One', sans-serif;
        font-size: 18px;
        padding: 10px;
        border-radius: 10px;
        text-transform: uppercase;
    }

    /* Body cell styles */
    .scrollable-table td {
        background-color: #F1EFEF;
        font-family: 'Fugaz One', sans-serif;
        font-weight: 700;
        font-size: 18px;
        padding: 10px;
        border-radius: 10px;
        text-transform: uppercase;
        color: #006106;
    }

    /* Odd rows */
    .scrollable-table tbody tr:nth-of-type(odd) td {
        background-color: #F1EFEF;
        color: #008703;
    }

    /* Even rows */
    .scrollable-table tbody tr:nth-of-type(even) td {
        background-color: #F1EFEF;
        color: #008703;
    }

    /* Styles for special elements */
    .scrollable-table td.correct {
        color: #008703 !important;
        font-weight: bold;
    }

    .scrollable-table td.incorrect {
        color: red !important;
        font-weight: bold;
    }

    /* .group u{
        color: #006106;
    } */
</style>

<div class="header-container">
    <div class="group">
        <h1>{{ coach_name|upper }} CYBERCOACH FOR CUSTOM SCENARIO</h1>
    </div>
    <div class="group" style="color:white;">
        <p>This Cybercoach is a {{ model_type }} model trained on 80% of {{ coach_name }}'s offensive play calls from the beginning of the {{ first_year }} season to the end of the {{ last_year }} season. 20% of the plays were withheld from the training set in order to be used in the evaluation of the model. This model was <strong>{{ model_accuracy }}%</strong> accurate on the evaluation data set.</p>
        <p>This is the decision that the {{ model_type }} Cybercoach of {{ coach_name }} would make in this custom scenario.</p>
    </div>
</div>

    <div class="group" style="margin:0px;">
        <h2>THE CYBERCOACH WOULD CALL {% if prediction == 0 %}A <u>PASS</u> PLAY{% elif prediction == 1 %}A <u>RUSH</u> PLAY{% elif prediction == 2 %}A <u>FIELD GOAL</u>{% elif prediction == 3 %}A <u>PAT</u>{% elif prediction == 4 %}A <u>PUNT</u>{% else %}AN <u>OTHER</u> PLAY{% endif %} IN THIS SITUATION.</h2>
    </div>
<!-- <h2>Drive Data</h2>
<p>The Cybercoach would call for {% if prediction == 0 %}a <strong>Pass</strong> play{% elif prediction == 1 %}a <strong>Rush</strong> play{% elif prediction == 2 %}a <strong>Field Goal</strong>{% elif prediction == 3 %}a <strong>PAT</strong>{% elif prediction == 4 %}a <strong>Punt</strong>{% else %}an <strong>Other</strong> play{% endif %} in this situation.</p> -->
<p><u>Scroll to the right</u> to see more of the data.</p>
<div class="scrollable-table">
    <table>
        <thead>
            <tr>
                {% if drive_dict %}
                    {% for key in drive_dict.0.keys %}
                        <th>{{ key }}</th>
                    {% endfor %}
                {% endif %}
            </tr>
        </thead>
        <tbody>
            {% for row in drive_dict %}
                <tr>
                    {% for value in row.values %}
                        <td>{{ value }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
